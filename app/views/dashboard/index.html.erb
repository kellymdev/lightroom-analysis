<h1>Lightroom Analysis</h1>

<p><%= AdobeImage.count %> images in <%= AgLibraryFolder.count %> folders.</p>

<p><%= @video_files %> video files.</p>

<p><%= @flashed_images %> images shot using flash.</p>

<p><%= AgLibraryKeyword.count %> keywords with <%= AgLibraryKeywordImage.count %> occurrences.</p>

<table>
  <tr>
    <td>
      <p>Most popular keywords:</p>
      <ul>
        <% @popular_keywords.each do |keyword| %>
          <li><%= keyword[:tag].name %> <span class="stats">(<%= keyword[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Recent keywords:</p>
      <ul>
        <% @recent_keywords.each do |keyword| %>
          <li><%= keyword.name %></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Commonly paired keywords:</p>
      <ul>
        <% @paired_keywords.each do |pair| %>
          <li><%= pair[:tag1].name %>, <%= pair[:tag2].name %> <span class="stats">(<%= pair[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular file formats:</p>
      <ul>
        <% @popular_file_formats.each do |file_format| %>
          <li><%= file_format[:format] %> <span class="stats">(<%= file_format[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular ratings:</p>
      <ul>
        <% @popular_ratings.each do |rating| %>
          <li><%= rating[:rating] %> <span class="stats">(<%= rating[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular update counts:</p>
      <ul>
        <% @popular_update_counts.each do |update_count| %>
          <li><%= update_count[:update_count] %> <span class="stats">(<%= update_count[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular apertures:</p>
      <ul>
        <% @popular_apertures.each do |aperture| %>
          <li><%= aperture[:aperture] %> <span class="stats">(<%= aperture[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular focal lengths:</p>
      <ul>
        <% @popular_focal_lengths.each do |focal_length| %>
          <li><%= focal_length[:focal_length] %> <span class="stats">(<%= focal_length[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular lenses:</p>
      <ul>
        <% @popular_lenses.each do |lens| %>
          <li><%= lens[:lens].value %> <span class="stats">(<%= lens[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular isos:</p>
      <ul>
        <% @popular_isos.each do |iso| %>
          <li><%= iso[:iso] %> <span class="stats">(<%= iso[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular shutterspeeds:</p>
      <ul>
        <% @popular_shutterspeeds.each do |shutterspeed| %>
          <li><%= shutterspeed[:shutterspeed] %> <span class="stats">(<%= shutterspeed[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular cameras:</p>
      <ul>
        <% @popular_cameras.each do |camera| %>
          <li><%= camera[:camera].value %> <span class="stats">(<%= camera[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular isos by camera:</p>
      <ul>
        <% @popular_isos_with_cameras.each do |camera| %>
          <li><%= camera[:camera].value %> - <%= camera[:iso] %> <span class="stats">(<%= camera[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular focal lengths by camera:</p>
      <ul>
        <% @popular_focal_lengths_with_cameras.each do |camera| %>
          <li><%= camera[:camera].value %> - <%= camera[:focal_length] %> <span class="stats">(<%= camera[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular cropped sizes:</p>
      <ul>
        <% @popular_crop_sizes.each do |crop_size| %>
          <li><%= crop_size[:width] %> x <%= crop_size[:height] %> <span class="stats">(<%= crop_size[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular white balances:</p>
      <ul>
        <% @popular_white_balances.each do |white_balance| %>
          <li><%= white_balance[:white_balance] %> <span class="stats">(<%= white_balance[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>
</table>
