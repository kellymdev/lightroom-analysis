<h1>Lightroom Analysis</h1>

<p><%= AdobeImage.count %> images in <%= AgLibraryFolder.count %> folders.</p>

<p><%= AgLibraryKeyword.count %> keywords with <%= AgLibraryKeywordImage.count %> occurrences.</p>

<table>
  <tr>
    <td>
      <p>Most popular keywords:</p>
      <ul>
        <% @popular_keywords.each do |keyword| %>
          <li><%= keyword[:tag].name %> <span class="stats">(<%= keyword[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Recent keywords:</p>
      <ul>
        <% @recent_keywords.each do |keyword| %>
          <li><%= keyword.name %></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Commonly paired keywords:</p>
      <ul>
        <% @paired_keywords.each do |pair| %>
          <li><%= pair[:tag1].name %>, <%= pair[:tag2].name %> <span class="stats">(<%= pair[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular apertures:</p>
      <ul>
        <% @popular_apertures.each do |aperture| %>
          <li><%= aperture[:aperture] %> <span class="stats">(<%= aperture[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular focal lengths:</p>
      <ul>
        <% @popular_focal_lengths.each do |focal_length| %>
          <li><%= focal_length[:focal_length] %> <span class="stats">(<%= focal_length[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular lenses:</p>
      <ul>
        <% @popular_lenses.each do |lens| %>
          <li><%= lens[:lens].value %> <span class="stats">(<%= lens[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>

  <tr>
    <td>
      <p>Most popular iso's:</p>
      <ul>
        <% @popular_isos.each do |iso| %>
          <li><%= iso[:iso] %> <span class="stats">(<%= iso[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular shutterspeeds:</p>
      <ul>
        <% @popular_shutterspeeds.each do |shutterspeed| %>
          <li><%= shutterspeed[:shutterspeed] %> <span class="stats">(<%= shutterspeed[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>

    <td>
      <p>Most popular cameras:</p>
      <ul>
        <% @popular_cameras.each do |camera| %>
          <li><%= camera[:camera].value %> <span class="stats">(<%= camera[:frequency] %>)</span></li>
        <% end %>
      </ul>
    </td>
  </tr>
</table>
